---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "bastion_group_guest_access Resource - bastion"
subcategory: ""
description: |-
  Manages a Bastion group guest access.
  A guest access grants a specific account access to a subset of a group's server accesses.
  Note that the server access must exist in the group before granting guest access to it.
  Some features like proxyjump accesses and port forwardings are only supported when running The Bastion fork https://github.com/adfinis-forks/the-bastion from Adfinis.
---

# bastion_group_guest_access (Resource)

Manages a Bastion group guest access.

A guest access grants a specific account access to a subset of a group's server accesses.
Note that the server access must exist in the group before granting guest access to it.

Some features like proxyjump accesses and port forwardings are only supported when running [The Bastion fork](https://github.com/adfinis-forks/the-bastion) from Adfinis.

## Example Usage

```terraform
resource "bastion_group_guest_access" "guest_db_access" {
  group   = "kryptonians"
  account = "jonnjonzz"
  ip      = "192.168.1.100"
  port    = "22"
  user    = "*"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account` (String) The account to grant guest access to
- `group` (String) The Bastion group name owning the server access
- `ip` (String) IP or subnet of the server access target (hostname does not work)
- `port` (String) Port of the access target, use '*' to allow ssh access to all ports

### Optional

- `comment` (String) Comment for the guest access
- `protocol` (String) Protocol to grant access for. Valid values are 'sftp', 'scpupload', 'scpdownload', 'rsync', 'portforward'. When set, 'user' must be empty.
- `proxy_ip` (String) IP address of the proxy server
- `proxy_port` (String) Port of the proxy server
- `proxy_user` (String) Username for the proxy server, use '*' to allow all users
- `remote_port` (Number) Remote port forwarded from the target server to The Bastion
- `ttl` (Number) Time to live for the guest access in seconds
- `user` (String) Username for the server access. Cannot be used together with `protocol`

### Read-Only

- `id` (String) The resource identifier

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
# Guest accesses can be imported using the format: group:account:ip:port:user
terraform import bastion_group_guest_access.example kryptonians:kal-el:192.168.1.100:22:postgres

# With protocol
terraform import bastion_group_guest_access.example kryptonians:kal-el:192.168.1.100:22:postgres:sftp

# With protocol and remote_port (protocol must be "portforward")
terraform import bastion_group_guest_access.example kryptonians:kal-el:192.168.1.100:22:postgres:portforward:8080

# With proxy
terraform import bastion_group_guest_access.example kryptonians:kal-el:192.168.1.100:22:postgres:10.0.0.1:22:proxy-user

# With protocol and proxy
terraform import bastion_group_guest_access.example kryptonians:kal-el:192.168.1.100:22:postgres:sftp:10.0.0.1:22:proxy-user

# With protocol, remote_port and proxy (protocol must be "portforward")
terraform import bastion_group_guest_access.example kryptonians:kal-el:192.168.1.100:22:postgres:portforward:8080:10.0.0.1:22:proxy-user

# IPv6 addresses must be wrapped in brackets
terraform import bastion_group_guest_access.example kryptonians:kal-el:[2001:db8::1]:22:root
```
